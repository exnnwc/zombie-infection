<!DOCTYPE html>
<html>
<head>
	<script src="https://code.jquery.com/jquery-1.12.2.min.js"></script>
	<script src="Blues.js"></script>	
	<script src="Game.js"></script>	
	<script src="Greens.js"></script>	
	<script src="npcs.js"></script>		
	<script src="Player.js"></script>	
	<script src="Reds.js"></script>	
	<script src="World.js"></script>
	
	
	<style>
		#world_div{
			border:1px solid black;
		}
		#status_div{
			padding:8px;
			font-style:italic;
		}
		.cell{
			float:left;
			width:20px;
			height:20px;
			border:1px dotted black;
			text-align:center;
		}
		
		.wall{
			background-color:black;
		}
		
		.blues{
			color:blue;
		}
		
		.reds{
			color:red;
		}
		.greens{
			color:green;
		}
		.player{

		}
		.bullet{
			color:grey;
			
		}
		.shot{
			background-color:#FF0000 ;
			font-weight:bold;
		}
	</style>
</head>

<body>
	<div style='clear:both;'>
		<div id='world_div' style='float:left;'></div>
		<div style='float:left;width:400px;padding:8px;'>
			<div style='padding:8px;'> Use the arrows or num-pad to move. </div>
			<div style='padding:8px;'>Touch the the humans (blue and red) to infect them and make them zombies. (green)</div>
			<div style='padding:8px;'>Reds shoot. The closer you are the better chance they have of hitting you.</div>			
			<div style='padding:8px;'>Infect all humans!</div>			
		</div>
	</div>
	<div id='status_div' style='clear:both;'></span>
	<div id="game_over_div" style='top:180px;right:20px;z-indez:10;position:absolute;color:red;font-size:80px;display:none;'>GAME OVER</div>
	<div id="win_div" style='top:150px;left:120px;z-indez:10;position:absolute;font-size:160px;display:none;'>YOU WIN!</div>
	<script>
		game = new Game();

		setInterval(function(){
			game.run();
		}, 500);
		
		$(document).on("keydown", "body", function (event) {			
			direction = {37:"w", 38:"n", 39:"e", 40:"s", 97:"sw", 98:"s", 99:"se", 100:"w", 102:"e", 103:"nw", 104:"n", 105:"ne"}
			
			if (game.isActive===true && ((event.keyCode>36 && event.keyCode<41) 		
			  || (event.keyCode>96 && event.keyCode<106 && event.keyCode!=101))){			
			  console.log(game.isActive);
				game.input(direction[event.keyCode], event.shiftKey);				   
			}                
        });
		
		function randomNumber(a, b){
			return Math.floor((Math.random() * b) + a);
		}
	
	</script>	
</body>
</html>